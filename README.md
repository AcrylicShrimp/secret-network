# secret-network
A cli tool to download images from the pixiv.

## Why secret-network?
Its name is came from the game `Last Origin`. At beginning, the purpose of this project was downloading illustrates from pixiv that related to `Last Origin`. Now it supports tag customization.

## How can I use?

This program runs with configurations defined at `settings.json` file. If it is not present, the program will generate it automatically. You need to fill out following fields:

* **`username`**: Your pixiv account's username or email address.
* **`password`**: Your pixiv account's password.
* **`tags`**: List of tags for search. Tags are separated by space. (ex. `LastOrigin r-18`)
* **`max-page-image-count`**: Maximum number of images per artwork. Less than 1 disables it.  
  This config is for artworks with huge amount of images, which often contain irrelevant images.

## What is refresh token?

Refresh token is a string generated by a server and used for re-authentication. For more information about the refresh token itself, please refer [here](https://auth0.com/blog/refresh-tokens-what-are-they-and-when-to-use-them/). After the successful login, this program saves the refresh token provided from Pixiv at `refresh_token.txt` for later use.

**NOTE**: If you changed `username` config after a refresh token saved, you need to delete the `refresh_token.txt` file. Since the token is bounded to the previous user, you cannot log in with the new user by it.

## Why I'm getting authorization notification emails from Pixiv?

If you log in via secret-network for the first time (without a refresh token), Pixiv will send you such an email. However, login with the saved refresh token won't. If you still getting those emails, please check if the `refresh_token.txt` file is created.
